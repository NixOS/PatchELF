Summary: A utility for patching ELF binaries

Name: patchelfmod
Version: @PACKAGE_VERSION@
Release: 1
License: GPL
Group: Development/Tools
URL: https://github.com/darealshinji/patchelfmod
Source0: %{name}-@PACKAGE_VERSION@.tar.bz2
BuildRoot: %{_tmppath}/%{name}-%{PACKAGE_VERSION}-buildroot
Prefix: /usr

%description

PatchELFmod is a simple utility for modifing existing ELF executables
and libraries. It can change the dynamic loader ("ELF interpreter")
of executables, change existing DT_SONAME entries of shared libraries
and manipulate the RPATH and DT_NEEDED entries of executables and libraries.

%prep
%setup -q

%build
./configure --prefix=%{_prefix}
make
make check

%install
rm -rf $RPM_BUILD_ROOT
make DESTDIR=$RPM_BUILD_ROOT install
strip $RPM_BUILD_ROOT/%{_prefix}/bin/* || true

%clean
rm -rf $RPM_BUILD_ROOT

%files
/usr/bin/patchelfmod
/usr/share/doc/patchelfmod/README
/usr/share/man/man1/patchelfmod.1.gz
