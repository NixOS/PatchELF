.\" The 'options' section of this manpage was
.\" generated with help2man 1.43.3.
.\"
.\" Process this file with
.\" groff -man -Tascii patchelfmod.1
.\"
.TH PATCHELFMOD "1" "APRIL 2014" "@PACKAGE_VERSION@"
.SH NAME
PatchELFmod - Modify ELF files

.SH SYNOPSIS
.B patchelfmod \fR[option] <elffile>

.SH DESCRIPTION
PatchELFmod is a simple utility to modify header data of ELF executables
and libraries. It can change the dynamic loader ("ELF interpreter")
of executables, change existing DT_SONAME entries of shared libraries
and manipulate the RPATH and DT_NEEDED entries of executables and libraries.

.SH OPTIONS
.TP
\fB\-h\fR, \fB\-\-help\fR
Prints help information.
.TP
\fB\-V\fR, \fB\-\-version\fR
Prints version information.
.TP
\fB\-d\fR, \fB\-\-debug\fR
Prints details of the changes made to the input file.
Alternatively you can use the environment
variable PATCHELFMOD_DEBUG.
.PP
Dynamic loader options:
.TP
\fB\-i\fR, \fB\-\-set\-interpreter\fR <interpreter>
Changes the dynamic loader ("ELF interpreter")
of an executable to <interpreter>.
.TP
\fB    \-\-interpreter\fR
An alias for '\-\-set\-interpreter'.
.TP
\fB\-I\fR, \fB\-\-print\-interpreter\fR
Prints the ELF interpreter of an executable.
.PP
RPATH options:
.TP
\fB\-R\fR, \fB\-\-set\-rpath\fR <rpath>
Changes the RPATH of an executable or library to <rpath>.
.TP
\fB    \-\-rpath\fR <rpath>
An alias for '\-\-set\-rpath'.
.TP
\fB\-s\fR, \fB\-\-shrink\-rpath\fR
Removes all directories from RPATH that do not contain
a library referenced by DT_NEEDED fields of the executable
or library.
.br
For instance, if an executable references one library
libfoo.so, and has an RPATH "/lib:/usr/lib:/foo/lib",
and libfoo.so can only be found in /foo/lib, then the
new RPATH will be "/foo/lib".
.TP
\fB\-p\fR, \fB\-\-print\-rpath\fR
Prints the RPATH of an executable or library.
.TP
\fB\-f\fR, \fB\-\-force\-rpath\fR
Forces the use of the obsolete DT_RPATH instead of
DT_RUNPATH.
By default DT_RPATH is converted to DT_RUNPATH.
.PP
DT_NEEDED options:
.TP
\fB\-a\fR, \fB\-\-add\-needed\fR <library>
Adds a dependency <library> on a dynamic library.
.TP
\fB\-r\fR, \fB\-\-remove\-needed\fR <library>
Removes a dependency <library> from a dynamic library.
.TP
\fB\-l\fR, \fB\-\-add\-needed\-list\fR <library1>,<library2>,...
The same as '\-\-add\-needed', but with several dynamic
libraries declared at once through a comma seperated list.
.TP
\fB    \-\-add\-list\fR <library1>,<library2>,...
An alias for '\-\-add\-needed\-list'.
.TP
\fB\-L\fR, \fB\-\-remove\-needed\-list\fR <library1>,<library2>,...
The same as '\-\-remove\-needed', but with several dynamic
libraries declared at once through a comma seperated list.
.TP
\fB    \-\-remove\-list\fR <library1>,<library2>,...
An alias for '\-\-remove\-needed\-list'.
.TP
\fB\-n\fR, \fB\-\-replace\-needed\fR <library> <new\-library>
Replaces a dependency <library> on a dynamic library with
a new dependency <new\-library>.
.br
This option can be given multiple times.
.PP
DT_SONAME options:
.TP
\fB\-S\fR, \fB\-\-set\-soname\fR <soname>
Changes the DT_SONAME entry of a library to <soname>.
.TP
\fB    \-\-soname\fR <soname>
An alias for '\-\-replace\-soname'.
.TP
\fB\-P\fR, \fB\-\-print\-soname\fR
Prints the soname of a library.

.SH LIMITATIONS
Currently PatchELFmod can't remove existing RPATHs.
Use \fBchrpath\fR(1) instead.

.SH BUGS
The \fBstrip\fR(1) command from binutils generated broken executables when
applied to the output of patchelf (if '\-\-set-rpath' or '\-\-set-interpreter'
with a larger path than the original is used).
This appears to be a bug in binutils.

.SH AUTHORS
2004-2014, Eelco Dolstra <\fIeelco.dolstra@logicblox.com\fR>
.br
     2011, Zack Weinberg
.br
     2013, rgcjonas
.br
     2014, djcj <\fIdjcj@gmx.de\fR>
.PP
This manpage was written by djcj <\fIdjcj@gmx.de\fR>.

.SH "SEE ALSO"
.BR elf (5),
.BR ld.so (8)
